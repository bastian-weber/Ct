cmake_minimum_required (VERSION 2.6)
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_CURRENT_SOURCE_DIR})

#specify here which version of openCV you use
set(OpenCV_VERSION 248)

project(Cv)

file(GLOB SOURCEFILES "*.h"  "*.hpp"  "*.cpp")

find_package(OpenCV REQUIRED)
find_package(FFTW REQUIRED)
include_directories(${OpenCV_INCLUDE_DIRS})
include_directories(${FFTW_INCLUDE_DIRS})

add_executable(Cv ${SOURCEFILES})

if(DEFINED OpenCV_LIBRARIES_DEBUG AND DEFINED OpenCV_LIBRARIES_RELEASE AND DEFINED FFTW_LIBRARIES)

	message("Everything fine, ready to generate.")

endif(DEFINED OpenCV_LIBRARIES_DEBUG AND DEFINED OpenCV_LIBRARIES_RELEASE AND DEFINED FFTW_LIBRARIES)

if(DEFINED OpenCV_LIBRARIES_DEBUG)

	foreach(element ${OpenCV_LIBRARIES_DEBUG})

		target_link_libraries(Cv debug ${element})

	endforeach(element ${OpenCV_LIBRARIES_DEBUG})

endif(DEFINED OpenCV_LIBRARIES_DEBUG)

if(DEFINED OpenCV_LIBRARIES_RELEASE)

	foreach(element ${OpenCV_LIBRARIES_RELEASE})

		target_link_libraries(Cv optimized ${element})

	endforeach(element ${OpenCV_LIBRARIES_RELEASE})	

endif(DEFINED OpenCV_LIBRARIES_RELEASE)

if(DEFINED FFTW_LIBRARIES)

	target_link_libraries(Cv ${FFTW_LIBRARIES})

endif(DEFINED FFTW_LIBRARIES)